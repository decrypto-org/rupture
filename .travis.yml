language: python
sudo: true
install:
    - pip install pep8
    - cd backend && pip install -r requirements.txt && cd ..
    - cd sniffer && pip install -r requirements.txt && cd ..
    - nvm install 6.3
    - nvm use 6.3
    - npm install jshint
    - cd client && npm install && cd ..
    - cd realtime && npm install && cd ..
    - gem install mdl
services:
    - mysql
before_script:
    - cd backend && python setup_database.py --db_name rupture --db_user travis && cd ..
    - mysql -u travis -e "CREATE DATABASE rupture CHARACTER SET UTF8;"
script:
    - make all
after_success:
    - coveralls
